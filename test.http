# Reference: https://github.com/Huachao/vscode-restclient


@baseUrl = http://localhost:8088
@authUrl = http://localhost:8181/realms/spring-microservices-security-realm/protocol/openid-connect/token
@clientId = spring-client-credentials-id
@clientSecret = {{ $dotenv KEYCLOAK_CLIENT_SECRET }}
#
#
#
#
# GET Auth Token
#
# @name getAuthToken
@authToken = {{ getAuthToken.response.body.access_token }}

POST {{authUrl}} HTTP/1.1
Content-Type: application/x-www-form-urlencoded

client_id={{clientId}}&client_secret={{clientSecret}}&grant_type=client_credentials

#
#
#

###
#
#
#
#
POST {{baseUrl}}/api/order HTTP/1.1
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "skuCode": "iphone_13",
  "price": 100.00,
  "quantity": 2
}



###

GET {{baseUrl}}/actuator/health HTTP/1.1
Authorization: Bearer {{authToken}}





###

GET {{baseUrl}}/api/order HTTP/1.1
Authorization: Bearer {{authToken}}


###

GET {{baseUrl}}/api/product HTTP/1.1
Authorization: Bearer {{authToken}}

###

GET {{baseUrl}}/api/inventory HTTP/1.1
Authorization: Bearer {{authToken}}


###




GET {{baseUrl}}/api/inventory?skuCode=iphone_13&quantity=2 HTTP/1.1
Authorization: Bearer {{authToken}}

###



GET {{baseUrl}}/api/inventory?skuCode=iphone_13&quantity=200 HTTP/1.1

###

